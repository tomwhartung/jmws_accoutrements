
# 2f-tomwhartung.md

Totally changing everything about tomwhartung.com before moving it to the new server.

# Technical Updates

Switch tomwhartung.com from using WP to using Django and MDB.

- [ ] Get single-page, bare minimum, hello-world type site going
- [ ] Worry about coding after we do the server shuffle

# TomWHartung.com on Django

## Process Overview

Details for accomplishing each of these tasks appear below.

- [x] 1. Establish the Site
- [x] 2. Ye Olde Hello, World
- [x] 3. Tutorial Part 2: Settings Cleanup
- [ ] 4. Material Design Bootstrap
- [ ] 5. Minimal Content

## References

- Start project
  - https://docs.djangoproject.com/en/3.0/intro/tutorial01/
- Material Design Bootstrap (MDB)
  - Using the jQuery version
  - https://mdbootstrap.com/docs/jquery/getting-started/download/

## Process Details

For an overview of these steps, see the section "Process Overview" above.

### 1. Establish the Site

Start the project, replace the settings.py file with a link, and copy in some basic files from `artsyvisions.com`:

```
gotwt                   # /var/www/tomwhartung.com/htdocs/tomwhartung.com
django-admin startproject Site
cd Site
python manage.py runserver
```

Access [http://127.0.0.1:8000/](http://127.0.0.1:8000/) in the browser to confirm the installation worked ok,
then kill the server with Ctrl-C.

#### Secure the `settings.py` File

Replace the settings.py file with a link, copy in some basic files from `artsyvisions.com` and commit what we have so far:

```
gotwt                                            # /var/www/tomwhartung.com/htdocs/tomwhartung.com
mkdir gitignored/Site/Site
mkdir -p gitignored/Site/Site
mv Site/Site/settings.py  gitignored/Site/Site
cd Site/Site/
ln -s ../../gitignored/Site/Site/settings.py .
cat settings.py                                 # Make sure we can still "see" it here
cd -
```

#### Copy Some Standard Files From the ArtsyVisions.com Site

Having a few django sites already set up, I have a preferred way of doing things.

Copy these files from `artsyvisions.com` because it is one of the newest.

```
cp /var/www/artsyvisions.com/htdocs/artsyvisions.com/.gitignore .
mkdir Site/bin
cp /var/www/artsyvisions.com/htdocs/artsyvisions.com/Site/bin/* Site/bin/
rm  Site/bin/artsyvisions_env.sh
cd Site/bin/
cat collectstatic.sh
vi run.sh                                       # Change port number to 8003
cd -
ga .gitignore
gc 'Adding .gitignore file from artsyvisions.com .'
ga Site/bin/collectstatic.sh
gc 'Adding Site/bin/collectstatic.sh file from artsyvisions.com .'
ga Site/bin/run.sh
gc 'Adding Site/bin/run.sh file from artsyvisions.com .'
l Site/
ga Site/
gc 'Adding all the Site/* files generated by startproject .'
```

### 2. Ye Olde Hello, World

Continuing with the first step of the tutorial at:

- https://docs.djangoproject.com/en/3.0/intro/tutorial01/

However, instead of a `polls` app, we create a `content` app.

```
gotws                                  # /var/www/tomwhartung.com/htdocs/tomwhartung.com/Site
python manage.py startapp content
```

After creating the project, edit the files `content/views.py`, `content/urls.py` and `Site/urls.py` as described in the tutorial.

```
vi content/views.py
vi content/urls.py
vi Site/urls.py
cd bin
./run.sh
```

Accessing the server at [http://127.0.0.1:8003/](http://127.0.0.1:8003/) displays the Hello World message from the view.

### 3. Tutorial Part 2: Settings Cleanup

Part 2 is all about the Database and models, which we will not be using now, if ever.

In my case, the goal of this step is to clean up `settings.py`.

#### References

These references apply to this step only.

- (1) https://docs.djangoproject.com/en/3.0/intro/tutorial02/
- (2) https://docs.djangoproject.com/en/3.0/howto/deployment/checklist/
- (3) https://docs.djangoproject.com/en/3.0/ref/settings/#std:setting-SECRET_KEY
- (4) https://docs.djangoproject.com/en/3.0/ref/settings/#std:setting-DEBUG
- (5) https://docs.djangoproject.com/en/3.0/ref/settings/#std:setting-ALLOWED_HOSTS
- (6) https://docs.djangoproject.com/en/3.0/ref/settings/#std:setting-INSTALLED_APPS
- (7) https://docs.djangoproject.com/en/3.0/ref/settings/#std:setting-DATABASES
- (8) https://docs.djangoproject.com/en/3.0/ref/settings/#std:setting-STATIC_ROOT

#### Key Settings

Check these key settings and update them as applicable.

- SECRET_KEY
  - Per (3) "django-admin startproject automatically adds a randomly-generated SECRET_KEY to each new project"
- DEBUG
  - Use `RUNNING_LOCALLY` variable, as in the artsyvisions.com file
- ALLOWED_HOSTS
  - Set in a fashion similar to that used in the artsyvisions.com file
- INSTALLED_APPS
  - Add `content`
- DATABASES
  - Per (7) "The DATABASES setting must configure a default database"
  - So far, I have not experienced problems running without a DB
  - I believe this is for the admin feature, which I will not be using right away
  - **For now, just comment out all lines defining the `DATABASES` parameter**
- STATIC_ROOT
  - We want to make this match what we are using on artsyvisions.com, so copy the code and comments for that setting
- STATIC_URL
  - We want to make this match what we are using on artsyvisions.com, so copy the code and comments for that setting

### 4. Material Design Bootstrap

#### References

These references apply to this step only.

- https://mdbootstrap.com/education/bootstrap/quick-start/

**I think I did this wrong, oops.**

```
cd Site/Site/
l
mkdir -p content/static/content
cp /var/www/artsyvisions.com/htdocs/artsyvisions.com/Site/content/static/content/favicon.ico  content/static/content
ga content/static/content/favicon.ico
gc 'Adding the content/static/content/favicon.ico file.'
```

### 5. Minimal Content

-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-

# Content Updates

Update site to contain:

- List of my spiritual portrait books
- List of my spiritual portrait sites
- List of social networking sites where I post spiritual portraits
- Call for help with sales
  - Maybe dedicate a page to this: I am no salesman, can offer commision only, etc.


